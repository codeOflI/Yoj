(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0f53342d"],{"31d5":function(e,s,t){},"52c6":function(e,s,t){"use strict";var a=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"passwordJudge"},[t("div",{staticClass:"input-group mb-3"},[e._m(0),t("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],class:{"col-7":!0,"form-control":!0,"is-invalid":e.passwordStrength<2,"is-valid":e.passwordStrength>=2},attrs:{type:"password",id:"password",placeholder:"",required:"required"},domProps:{value:e.password},on:{input:function(s){s.target.composing||(e.password=s.target.value)}}}),t("div",{staticClass:"col-4 mb-1"},[t("ul",{staticClass:"list-group list-group-horizontal",staticStyle:{height:"100%",width:"100%"}},[t("li",{class:{col:!0,"list-group-item":!0,"bg-secondary":1==e.passwordStrength}},[e._v(e._s(1==e.passwordStrength?"弱":""))]),t("li",{class:{col:!0,"list-group-item":!0,"bg-info":2==e.passwordStrength}},[e._v(e._s(2==e.passwordStrength?"中":""))]),t("li",{class:{col:!0,"list-group-item":!0,"bg-warning":3==e.passwordStrength}},[e._v(e._s(3==e.passwordStrength?"强":""))]),t("li",{class:{col:!0,"list-group-item":!0,"bg-danger":4==e.passwordStrength}},[e._v(e._s(4==e.passwordStrength?"牛":""))])])]),t("div",{staticClass:"invalid-feedback"},[e._v(e._s(e.passwordMsg))])]),t("div",{staticClass:"input-group mb-3"},[e._m(1),t("input",{directives:[{name:"model",rawName:"v-model",value:e.secondPassword,expression:"secondPassword"}],class:{"form-control":!0,"is-invalid":!e.secondPasswordJudge,"is-valid":e.secondPasswordJudge},attrs:{type:"password",id:"secondPassword",placeholder:""},domProps:{value:e.secondPassword},on:{input:function(s){s.target.composing||(e.secondPassword=s.target.value)}}}),t("div",{staticClass:"invalid-feedback"},[e._v(e._s(e.secondPasswordMsg))])])])},i=[function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"input-group-prepend"},[t("label",{staticClass:"input-group-text",attrs:{for:"password"}},[e._v("密码:")])])},function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"input-group-prepend"},[t("label",{staticClass:"input-group-text",attrs:{for:"secondPassword"}},[e._v("确认密码:")])])}],o={model:{prop:"passwordJudge",event:"change"},props:{passwordJudge:Object},data:function(){return{password:"",passwordStrength:0,passwordMsg:"",secondPassword:"",secondPasswordJudge:!1,secondPasswordMsg:""}},watch:{password:function(e){this.secondPasswordJudge=e==this.secondPassword,this.secondPasswordJudge?this.secondPasswordMsg="两次密码不一致":this.secondPasswordMsg="",this.passwordStrength=0;var s=this.passwordStrength;e.length>6&&(/\d/.test(e)&&s++,/[a-z]/.test(e)&&s++,/[A-Z]/.test(e)&&s++,/\W/.test(e)&&s++),this.passwordStrength=s,this.passwordStrength>2?this.passwordMsg="":this.passwordMsg="密码强度不够。数字、字母大小写、特殊字符能增加密码强度",this.$emit("change",{password:this.password,pass:s<2})},secondPassword:function(e){if(this.secondPasswordJudge=e==this.password,this.secondPasswordJudge)return this.secondPasswordMsg="两次密码不一致",void this.$emit("change",{password:this.password,pass:!1});this.secondPasswordMsg="",this.$emit("change",{password:this.password,pass:!0})}}},r=o,d=(t("597f"),t("2877")),n=Object(d["a"])(r,a,i,!1,null,null,null);s["a"]=n.exports},"597f":function(e,s,t){"use strict";var a=t("fa52"),i=t.n(a);i.a},7247:function(e,s,t){"use strict";var a=t("31d5"),i=t.n(a);i.a},b521:function(e,s,t){"use strict";t.r(s);var a=function(){var e=this,s=e.$createElement,a=e._self._c||s;return a("div",{staticClass:"container register"},[a("div",{staticClass:"py-3 text-center"},[a("img",{staticClass:"d-block mx-auto mb-3",attrs:{src:t("9a7b"),alt:"",width:"72",height:"72"}}),a("h2",[e._v("注册账号")]),a("router-link",{staticClass:"d-flex justify-content-center",attrs:{href:"#",to:"/login"}},[e._v("已有账号，快去登录")])],1),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-8 order-md-1 offset-md-2"},[a("form",{staticClass:"needs-validation",attrs:{novalidate:""}},[a("div",{staticClass:"input-group mb-3"},[e._m(0),a("input",{directives:[{name:"model",rawName:"v-model",value:e.userName,expression:"userName"}],class:{"form-control":!0,"is-invalid":!e.userNameJudge,"is-valid":e.userNameJudge},attrs:{type:"text",id:"userName",placeholder:"",required:"required"},domProps:{value:e.userName},on:{input:function(s){s.target.composing||(e.userName=s.target.value)}}}),a("div",{staticClass:"invalid-feedback"},[e._v(e._s(e.userNameMsg))])]),a("JudgePassword",{model:{value:e.passwordJudge,callback:function(s){e.passwordJudge=s},expression:"passwordJudge"}}),a("div",{staticClass:"input-group mb-3"},[e._m(1),a("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],class:{"form-control":!0,"is-invalid":!e.emailJudge,"is-valid":e.emailJudge},attrs:{type:"email",id:"email",placeholder:"you@example.com"},domProps:{value:e.email},on:{input:function(s){s.target.composing||(e.email=s.target.value)}}}),a("div",{staticClass:"invalid-feedback"},[e._v(e._s(e.emailMsg))])]),a("div",{staticClass:"input-group mb-3"},[e._m(2),a("input",{directives:[{name:"model",rawName:"v-model",value:e.emailCode,expression:"emailCode"}],class:{"col-9":!0,"form-control":!0,"is-invalid":!e.emailCodeJudge,"is-valid":e.emailCodeJudge},attrs:{type:"number",id:"emailCode",placeholder:""},domProps:{value:e.emailCode},on:{input:function(s){s.target.composing||(e.emailCode=s.target.value)}}}),a("div",{staticClass:"col-3 md-1"},[a("button",{ref:"emailBtn",staticClass:"btn btn-outline-info btn-md btn-block",attrs:{type:"button"},on:{click:e.sendEmail}},[e._v("获取验证码")])]),a("div",{staticClass:"invalid-feedback"},[e._v("邮箱验证码错误.")])]),a("div",{staticClass:"input-group mb-3"},[e._m(3),a("input",{directives:[{name:"model",rawName:"v-model",value:e.imageCode,expression:"imageCode"}],class:{"col-9":!0,"form-control":!0,"is-invalid":!e.imageCodeJudge,"is-valid":e.imageCodeJudge},attrs:{type:"text",placeholder:""},domProps:{value:e.imageCode},on:{input:function(s){s.target.composing||(e.imageCode=s.target.value)}}}),a("div",{staticClass:"col-3 m-auto"},[a("VerifyImg")],1),a("div",{staticClass:"invalid-feedback"},[e._v("验证码错误.")])]),e._m(4),a("hr",{staticClass:"mb-3 mt-0"}),a("div",{staticStyle:{display:"flex","justify-content":"center"}},[a("button",{staticClass:"btn btn-primary btn-lg",attrs:{type:"bottom"},on:{click:function(s){return s.preventDefault(),e.register(s)}}},[e._v(" 注册 ")])])],1)])]),e._m(5)])},i=[function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"input-group-prepend"},[t("label",{staticClass:"input-group-text",attrs:{for:"userName"}},[e._v("用户名:")])])},function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"input-group-prepend"},[t("label",{staticClass:"input-group-text",attrs:{for:"email"}},[e._v("Email:")])])},function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"input-group-prepend"},[t("label",{staticClass:"input-group-text",attrs:{for:"emailCode"}},[e._v("邮箱验证码:")])])},function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"input-group-prepend"},[t("label",{staticClass:"input-group-text",attrs:{for:"emailCheckCode"}},[e._v("验证码:")])])},function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"input-group mb-1",staticStyle:{"text-align":"center"}},[t("p",{staticStyle:{"text-align":"center"}},[e._v("邮箱验证码仅在10分钟内有效")])])},function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"container"},[t("div",{staticClass:"modal",attrs:{id:"myModal","data-keyboard":"false","data-backdrop":"static","data-role":"dialog","aria-labelledby":"myModalLabel","aria-hidden":"true"}},[t("div",{staticClass:"loading",attrs:{id:"loading"}},[e._v("发送邮件中。。。")])])])}],o=(t("34ef"),t("a481"),t("4279")),r=t("52c6"),d=t("1157"),n=t.n(d),l=t("dc80"),c={data:function(){return{userName:"",userNameJudge:!0,userNameMsg:"",passwordJudge:{password:"",pass:!1},email:"",emailJudge:!0,emailMsg:"",emailCode:"",emailCodeJudge:!0,emailCodeMsg:"",headers:{},maxTime:60,imageCode:"",imageCodeJudge:!0,imageCodeMsg:""}},components:{JudgePassword:r["a"],VerifyImg:l["a"]},methods:{countDown:function(e,s){var t=window.setInterval((function(){0==e?(s.disabled="",s.innerHTML="获取验证码",clearInterval(t)):(s.disabled="disabled",s.innerHTML=e+"秒后重新获取",e--)}),1e3)},sendEmail:function(){var e=this;""===this.email&&(this.emailJudge=!1,this.emailMsg="邮箱地址不能为空"),this.emailJudge&&(n()("#myModal").modal("show"),Object(o["a"])({url:"/user/r/getEmailCheckCode/"+this.email}).then((function(s){n()("#myModal").modal("hide"),e.emailJudge=s.data.success,s.data.success?(console.log(e.maxTime),e.$options.methods.countDown(e.maxTime,e.$refs.emailBtn)):e.emailMsg=s.data.msg})).catch((function(e){console.log(e),n()("#myModal").modal("hide")})))},register:function(){var e=this;!this.userNameJudge||this.passwordJudge.strength<2||!this.emailJudge||Object(o["a"])({url:"/user/r/register",method:"POST",data:{userName:this.userName,password:this.passwordJudge.password,email:this.email,emailCode:this.emailCode,imageCode:this.imageCode}}).then((function(s){if(s.data.success)e.$router.replace("/login");else{var t=s.data.extend;for(var a in t)e.$data[a+"Judge"]=!1,e.$data[a+"Msg"]=t[a]}})).catch((function(e){console.log(e)}))},getVerifyImage:function(){var e=this;Object(o["a"])({url:"/verify/image",method:"get",responseType:"arraybuffer"}).then((function(e){return"data:image/png;base64,"+btoa(new Uint8Array(e.data).reduce((function(e,s){return e+String.fromCharCode(s)}),""))})).then((function(s){e.verifiedImg=s})).catch((function(e){console.log(e)}))}},watch:{userName:function(e){return""===e?(this.userNameJudge=!1,void(this.userNameMsg="用户名不能为空")):(console.log(e.length),e.length>20?(this.userNameJudge=!1,void(this.userNameMsg="用户名太长")):void(this.userNameJudge=!0))},email:function(e){var s=/^([a-z0-9_\.-]+)@([\da-z\.-]+)\.([a-z\.]{2,6})$/i;this.emailJudge=s.test(e),this.emailJudge||(this.emailMsg="请输入一个有效的电子邮件地址.")},emailCode:function(e){this.emailCodeJudge=!0},imageCode:function(e){this.imageCodeJudge=!0}},created:function(){this.getVerifyImage()}},u=c,m=(t("7247"),t("2877")),g=Object(m["a"])(u,a,i,!1,null,null,null);s["default"]=g.exports},fa52:function(e,s,t){}}]);
//# sourceMappingURL=chunk-0f53342d.e5972821.js.map